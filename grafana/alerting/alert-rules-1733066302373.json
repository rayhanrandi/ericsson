{"apiVersion":1,"groups":[{"orgId":1,"name":"alert-discord","folder":"monitoring","interval":"15m","rules":[{"uid":"ee4bn87etxon4f","title":"test_alert_discord","condition":"C","data":[{"refId":"A","relativeTimeRange":{"from":2592000,"to":0},"datasourceUid":"be3azf4l8cu80d","model":{"editorMode":"code","format":"table","intervalMs":1000,"maxDataPoints":43200,"rawQuery":true,"rawSql":"SELECT\n  DATE_TRUNC('minute', \"time\") AS time_minute,\n  AVG(\"temp\") AS \"Average Temperature\",\n  MAX(\"temp\") AS \"Maximum Temperature\",\n  MIN(\"temp\") AS \"Minimum Temperature\"\nFROM\n  sensor_embeddings\nWHERE\n  $__timeFilter(\"time\")\nGROUP BY\n  time_minute\nHAVING\n  MAX(\"temp\") \u003e 120\nORDER BY\n  time_minute;\n","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50},"table":"sensor_embeddings"}},{"refId":"B","relativeTimeRange":{"from":0,"to":0},"datasourceUid":"__expr__","model":{"conditions":[{"evaluator":{"params":[0,0],"type":"gt"},"operator":{"type":"and"},"query":{"params":[]},"reducer":{"params":[],"type":"avg"},"type":"query"}],"datasource":{"name":"Expression","type":"__expr__","uid":"__expr__"},"expression":"A","intervalMs":1000,"maxDataPoints":43200,"reducer":"last","refId":"B","type":"reduce"}},{"refId":"C","relativeTimeRange":{"from":0,"to":0},"datasourceUid":"__expr__","model":{"conditions":[{"evaluator":{"params":[0,0],"type":"gt"},"operator":{"type":"and"},"query":{"params":[]},"reducer":{"params":[],"type":"avg"},"type":"query"}],"datasource":{"name":"Expression","type":"__expr__","uid":"__expr__"},"expression":"B","intervalMs":1000,"maxDataPoints":43200,"refId":"C","type":"threshold"}}],"noDataState":"NoData","execErrState":"OK","isPaused":false,"notification_settings":{"receiver":"Discord"}}]}]}